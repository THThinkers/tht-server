{
  "openapi": "3.0.0",
  "info": {
    "title": "THThinker API",
    "description": "THThinker의 웹사이트 api 문서",
    "version": "0.0.1"
  },
  "servers": [
    { "url": "http://localhost:4000/api/auth", "description": "Auth API" }
  ],
  "paths": {
    "/login": {
      "post": {
        "summary": "로그인",
        "tags": ["base"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": { "type": "string" },
                  "password": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 완료",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" }
                  }
                }
              }
            }
          },
          "403": { "description": "로그인 실패" }
        }
      }
    },
    "/signup": {
      "post": {
        "summary": "회원가입",
        "tags": ["base"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": { "type": "string" },
                  "password": { "type": "string" },
                  "name": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": { "200": { "description": "회원가입 완료" } }
      }
    },
    "/profile": {
      "get": {
        "summary": "프로필 조회",
        "tags": ["base"],
        "responses": {
          "200": {
            "description": "loggedIn",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "description": "유저 정보"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/logout": {
      "get": {
        "summary": "로그아웃",
        "tags": ["base"],
        "responses": {
          "200": {
            "description": "로그아웃 성공"
          },
          "403": {
            "description": "로그아웃 실패"
          }
        }
      }
    },
    "/oauth/google": {
      "get": {
        "summary": "구글 로그인",
        "tags": ["oauth"],
        "responses": {
          "301": {
            "description": "로그인 성공시 UI_SERVER로 redirect. 실패시 UI_SERVER/auth/check로 redirect"
          },
          "403": {
            "description": "데이터베이스 에러"
          }
        }
      }
    },
    "/oauth/kakao": {
      "get": {
        "summary": "카카오 로그인",
        "tags": ["oauth"],
        "responses": {
          "301": {
            "description": "로그인 성공시 UI_SERVER로 redirect. 실패시 UI_SERVER/auth/check로 redirect"
          },
          "403": {
            "description": "데이터베이스 에러"
          }
        }
      }
    },
    "/oauth/link": {
      "post": {
        "summary": "Oauth 계정 연동",
        "tags": ["oauth"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": { "type": "string" },
                  "password": { "type": "string" },
                  "name": { "type": "string" },
                  "major": { "type": "string" },
                  "studentId": { "type": "number" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "기존 로컬 계정과 소셜 계정 연동 성공"
          },
          "403": {
            "description": "데이터베이스 에러"
          }
        }
      }
    },
    "/validation/username": {
      "post": {
        "summary": "Username 중복 여부 validation",
        "tags": ["validation"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "중복 여부에 따라 isExist t/f",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "isExist": { "type": "boolean" }
                  }
                }
              }
            }
          },
          "403": {
            "description": "데이터베이스 에러"
          }
        }
      }
    }
  }
}
